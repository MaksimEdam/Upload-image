{"version":3,"sources":["components/Firebase/firebase.js","components/MyForm/MyForm.jsx","components/App/App.js","index.js","components/MyForm/MyForm.module.css","components/App/App.module.css"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","getStorage","MyForm","uploadFiles","handleSubmit","useCallback","file","image","className","s","wrapper","onSubmit","inputWrapper","type","name","modalFormInput","formButton","App","useState","progress","setProgress","storageRef","ref","uploadTask","uploadBytesResumable","on","snapshot","prog","Math","round","bytesTransferred","totalBytes","err","console","log","getDownloadURL","then","url","text","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"6MAYaA,EAAMC,YATI,CACrBC,OAAQ,0CACRC,WAAY,2BACZC,UAAW,WACXC,cAAe,uBACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAGJC,EAAUC,YAAWV,G,gCCWnBW,EApBA,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,YACVC,EAAeC,uBACnB,SAACC,GACCH,EAAYG,EAAKC,SAEnB,CAACJ,IAEH,OACE,qBAAKK,UAAWC,IAAEC,QAAlB,SACE,eAAC,IAAD,CAAMC,SAAUP,EAAhB,UACE,qBAAKI,UAAWC,IAAEG,aAAlB,SACE,uBAAOC,KAAK,OAAOC,KAAK,QAAQN,UAAWC,IAAEM,mBAE/C,wBAAQF,KAAK,SAASL,UAAWC,IAAEO,WAAnC,0E,iBCgBOC,EA5BH,WACV,MAAgCC,mBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KAoBA,OACE,gCACE,cAAC,EAAD,CAAQjB,YArBQ,SAACG,GACnB,GAAKA,EAAL,CACA,IAAMe,EAAaC,YAAItB,EAAD,iBAAoBM,EAAKQ,OACzCS,EAAaC,YAAqBH,EAAYf,GAEpDiB,EAAWE,GACT,iBACA,SAACC,GACC,IAAMC,EAAOC,KAAKC,MACfH,EAASI,iBAAmBJ,EAASK,WAAc,KAEtDX,EAAYO,MAEd,SAACK,GAAD,OAASC,QAAQC,IAAIF,MACrB,WACEG,YAAeZ,EAAWG,SAASJ,KAAKc,MAAK,SAACC,GAAD,OAASJ,QAAQC,IAAIG,aAOpE,qBAAI7B,UAAWC,IAAE6B,KAAjB,8DAAiCnB,EAAjC,W,cCvBNoB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U,mBCT1BC,EAAOC,QAAU,CAAC,aAAe,6BAA6B,QAAU,wBAAwB,MAAQ,sBAAsB,WAAa,6B,mBCA3ID,EAAOC,QAAU,CAAC,KAAO,qB","file":"static/js/main.1729171f.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getStorage } from \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAEjn1MJXNH0amNgH3n9YTJ74xx9JVIJyc\",\r\n  authDomain: \"hotel-31.firebaseapp.com\",\r\n  projectId: \"hotel-31\",\r\n  storageBucket: \"hotel-31.appspot.com\",\r\n  messagingSenderId: \"108028306064\",\r\n  appId: \"1:108028306064:web:f4692cb4831e13b621ee15\",\r\n  measurementId: \"G-5XPM887FHK\",\r\n};\r\nexport const app = initializeApp(firebaseConfig);\r\nexport const storage = getStorage(app);\r\n","import React, { useCallback } from \"react\";\r\nimport { Form } from \"@altiore/form\";\r\nimport s from \"./MyForm.module.css\";\r\n\r\nconst MyForm = ({ uploadFiles }) => {\r\n  const handleSubmit = useCallback(\r\n    (file) => {\r\n      uploadFiles(file.image);\r\n    },\r\n    [uploadFiles]\r\n  );\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <Form onSubmit={handleSubmit}>\r\n        <div className={s.inputWrapper}>\r\n          <input type=\"file\" name=\"image\" className={s.modalFormInput} />\r\n        </div>\r\n        <button type=\"submit\" className={s.formButton}>\r\n          Загрузить\r\n        </button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\nexport default MyForm;\r\n","import { storage } from \"../Firebase/firebase\";\nimport { getDownloadURL, ref, uploadBytesResumable } from \"firebase/storage\";\nimport { useState } from \"react\";\nimport MyForm from \"../MyForm/MyForm\";\nimport s from \"./App.module.css\";\nconst App = () => {\n  const [progress, setProgress] = useState(0);\n  const uploadFiles = (file) => {\n    if (!file) return;\n    const storageRef = ref(storage, `/files/${file.name}`);\n    const uploadTask = uploadBytesResumable(storageRef, file);\n\n    uploadTask.on(\n      \"state_changed\",\n      (snapshot) => {\n        const prog = Math.round(\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n        );\n        setProgress(prog);\n      },\n      (err) => console.log(err),\n      () => {\n        getDownloadURL(uploadTask.snapshot.ref).then((url) => console.log(url));\n      }\n    );\n  };\n  return (\n    <div>\n      <MyForm uploadFiles={uploadFiles} />\n      <h3 className={s.text}>Загружен {progress}%</h3>\n    </div>\n  );\n};\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/App\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrapper\":\"MyForm_inputWrapper__2uUv1\",\"wrapper\":\"MyForm_wrapper__3Iotq\",\"label\":\"MyForm_label__3sM27\",\"formButton\":\"MyForm_formButton__VuL3R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"App_text__2JYWa\"};"],"sourceRoot":""}