{"version":3,"sources":["components/Firebase/firebase.js","components/MyForm/MyForm.jsx","components/App/App.js","index.js"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","getStorage","MyForm","uploadFiles","handleSubmit","useCallback","file","image","onSubmit","type","name","App","useState","progress","setProgress","storageRef","ref","uploadTask","uploadBytesResumable","on","snapshot","prog","Math","round","bytesTransferred","totalBytes","err","console","log","getDownloadURL","then","url","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6MAYaA,EAAMC,YATI,CACrBC,OAAQ,0CACRC,WAAY,2BACZC,UAAW,WACXC,cAAe,uBACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAGJC,EAAUC,YAAWV,G,eCInBW,EAdA,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,YACVC,EAAeC,uBACnB,SAACC,GACCH,EAAYG,EAAKC,SAEnB,CAACJ,IAEH,OACE,eAAC,IAAD,CAAMK,SAAUJ,EAAhB,UACE,uBAAOK,KAAK,OAAOC,KAAK,UACxB,wBAAQD,KAAK,SAAb,wECoBSE,EA5BH,WACV,MAAgCC,mBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KAoBA,OACE,gCACE,cAAC,EAAD,CAAQX,YArBQ,SAACG,GACnB,GAAKA,EAAL,CACA,IAAMS,EAAaC,YAAIhB,EAAD,iBAAoBM,EAAKI,OACzCO,EAAaC,YAAqBH,EAAYT,GAEpDW,EAAWE,GACT,iBACA,SAACC,GACC,IAAMC,EAAOC,KAAKC,MACfH,EAASI,iBAAmBJ,EAASK,WAAc,KAEtDX,EAAYO,MAEd,SAACK,GAAD,OAASC,QAAQC,IAAIF,MACrB,WACEG,YAAeZ,EAAWG,SAASJ,KAAKc,MAAK,SAACC,GAAD,OAASJ,QAAQC,IAAIG,aAOpE,mFAAclB,EAAd,W,cCvBNmB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.09246106.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getStorage } from \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAEjn1MJXNH0amNgH3n9YTJ74xx9JVIJyc\",\r\n  authDomain: \"hotel-31.firebaseapp.com\",\r\n  projectId: \"hotel-31\",\r\n  storageBucket: \"hotel-31.appspot.com\",\r\n  messagingSenderId: \"108028306064\",\r\n  appId: \"1:108028306064:web:f4692cb4831e13b621ee15\",\r\n  measurementId: \"G-5XPM887FHK\",\r\n};\r\nexport const app = initializeApp(firebaseConfig);\r\nexport const storage = getStorage(app);\r\n","import React, { useCallback } from \"react\";\r\nimport { Form } from \"@altiore/form\";\r\n\r\nconst MyForm = ({ uploadFiles }) => {\r\n  const handleSubmit = useCallback(\r\n    (file) => {\r\n      uploadFiles(file.image);\r\n    },\r\n    [uploadFiles]\r\n  );\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <input type=\"file\" name=\"image\" />\r\n      <button type=\"submit\">Загрузить</button>\r\n    </Form>\r\n  );\r\n};\r\nexport default MyForm;\r\n","import { storage } from \"../Firebase/firebase\";\nimport { getDownloadURL, ref, uploadBytesResumable } from \"firebase/storage\";\nimport { useState } from \"react\";\nimport MyForm from \"../MyForm/MyForm\";\n\nconst App = () => {\n  const [progress, setProgress] = useState(0);\n  const uploadFiles = (file) => {\n    if (!file) return;\n    const storageRef = ref(storage, `/files/${file.name}`);\n    const uploadTask = uploadBytesResumable(storageRef, file);\n\n    uploadTask.on(\n      \"state_changed\",\n      (snapshot) => {\n        const prog = Math.round(\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n        );\n        setProgress(prog);\n      },\n      (err) => console.log(err),\n      () => {\n        getDownloadURL(uploadTask.snapshot.ref).then((url) => console.log(url));\n      }\n    );\n  };\n  return (\n    <div>\n      <MyForm uploadFiles={uploadFiles} />\n      <h3>Загружен {progress}%</h3>\n    </div>\n  );\n};\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/App\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}